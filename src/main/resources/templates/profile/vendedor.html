<!DOCTYPE html>
<html lang="es"  xmlns="http://www.w3.org/2000/svg" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Perfil</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />    

        <link rel="stylesheet" th:href="@{/css/Style.css}">
        <link rel="stylesheet" th:href="@{/css/StyleIndex.css}">

        <link rel="stylesheet" th:href="@{/css/styleSeller.css}">
        <!--<link rel="stylesheet" th:href="@{/css/styleProfile.css}">-->

    </head>

    <body>
        <div class="header">
            <header th:replace="layout/layout :: header"></header>
        </div>
        <div class="wrapper">
            <aside>  
                
                    
                    <ul class="lista__navegacion">  
                        
                        <li>
                            <a href="#" onclick="mostrarContMenu('misCalendario')">
                                <i class="fa-sharp fa-solid fa-chart-column" style="color: #d6d8dc;"></i>
                                <span class="links_name">Mis calendario</span>
                            </a>
                        </li>
                        <div th:if="${1 == 1}">
                            <li>
                                <a href="#" onclick="mostrarContMenu('misOfertas')">
                                <i class="fa-sharp fa-solid fa-chart-column" style="color: #d6d8dc;"></i>
                                <span class="links_name">Mis Ofertas</span>
                                </a>
                            </li>
                        </div>
                        <!--Fin prueba-->
                        
                    </ul>
                    <ul th:insert="layout/listaIzq :: ul">       
                    </ul>
               
            </aside>

            <main>  <!-- class="list__elemet list__item--click" >-->
                <div class="element" id="element__misCitas">

                    <table class="table">

                        <thead>
                            <tr>
                                <th scope="col">Estado</th>
                                <th scope="col">Dia</th>
                                <th scope="col">Turno</th>
                            </tr>
                        </thead>
                        <tbody>
                            <div th:each="cita : ${citas}">
                            <tr>
                                <td th:text="${cita.estado}"></td>
                                <td th:text="${cita.diaCita}"></td>
                                <td th:text="${cita.horaCita}"></td>
                            </tr>
                        </div>
                        </tbody>
                    </table>
                </div>
                <div class="element" id="element__misPropiedades">

                    <div class="container-anuncios"  th:each="propiedad : ${propiedades}">
                        <div class="anuncio" th:if="${#authentication.name == propiedad.propietario.email}">

                                    <div class="contenido-anuncio" >



                                        <div class="tituloTruncado"><h3 th:text="${propiedad.descripcion}"></h3>
                                        </div>
                                        <div class="descripcionTruncada"> <p th:text="${propiedad.caracteristicas}"></p></div>


                                        <p class="precio" th:text="${propiedad.precioVenta}"></p>
                                        <p class="precio" th:text="${propiedad.precioAlquiler}"></p>
                                        <ul class="iconos-caracts">
                                            <li>
                                                <span class="material-symbols-outlined">bathtub </span>
                                                <p>3</p>
                                            </li>
                                            <li>
                                                <span class="material-symbols-outlined">directions_car </span>
                                                <p>3</p>
                                            </li>
                                            <li>
                                                <span class="material-symbols-outlined">bed</span>
                                                <p>4</p>
                                            </li>
                                        </ul>
                                        <a th:href="@{propiedad/{id}(id=${propiedad.id})}">
                                            <button type="button" class="btn btn-outline-primary">Ver Propiedad</button>
                                        </a>

                                        <!-- Estos botones solo deberian estar disponibles si la persona logeada es la propietaria -->
                                        <a th:if="${#authentication.name == propiedad.propietario.email}" type="button"  th:href="@{propiedad/editar/} + ${propiedad.id}" class="btn btn-outline-primary" th:text="Editar"></a>
                                        <a th:if="${#authentication.name == propiedad.propietario.email}" type="button"  th:href="@{propiedad/eliminar/} + ${propiedad.id}" class="btn btn-outline-primary" th:text="Eliminar"></a>
                                    </div>
                                </div>
                            </div>
                </div>

                <div class="element" id="element__misOfertas">
                    <!--MOSTRAR CITAS QUE EL USUARO YA CONFIRMO-->
                    <table class="table">

                        <thead>
                        <tr>
                            <th scope="col">Estado</th>
                            <th scope="col">Monto</th>
                        </tr>
                        </thead>
                        <tbody>
                        <div th:each="oferta : ${ofertas}">
                            <tr>
                                <td th:text="${oferta.estado}"></td>
                                <td th:text="${oferta.monto}"></td>
                            </tr>
                        </div>
                        </tbody>
                    </table>
                </div>
                <div class="element" id="element__misDatos">
                    <!--MOSTRAR CITAS QUE EL USUARO YA CONFIRMO--

    Nombre, apellido, dni(ese no), correoelect, contraseÃ±a,

                    -->
                    <form>
                        <label for="nombre">Nombre:</label>
                        <input type="text" id="nombre" name="nombre" readonly>
                        <!--<input type="text" id="nombre" name="nombre" required>-->

                        <label for="apellido">Apellido:</label>
                        <input type="text" id="apellido" name="apellido">

                        <label for="mail">E-mail:</label>
                        <input type="text" id="email" name="email">

                        <label for="dni">DNI:</label>
                        <input type="text" id="dni" name="dni" readonly>

                        <input type="submit" value="Guardar cambios">
                    </form>

                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed imperdiet massa vitae magna scelerisque luctus eu ac odio. In ac nunc in augue dignissim mattis. Vestibulum feugiat, purus eu euismod pharetra, erat enim imperdiet dolor, vitae consectetur leo diam in arcu. Nunc vel nisi diam. Vestibulum sagittis est vel turpis luctus, vitae porttitor ligula bibendum. Phasellus sit amet consectetur sem. Cras consectetur, nisi vitae sagittis pharetra, mauris orci pharetra elit, a auctor elit lorem ut tellus. Integer venenatis dictum condimentum. Ut fermentum diam vel convallis viverra. Sed sit amet nisi lacus. Phasellus gravida justo a risus pellentesque, quis aliquet lorem ornare. Mauris est sem, malesuada ut consequat ut, facilisis vitae neque. Morbi rhoncus quam non consectetur varius. In hac habitasse platea dictumst. Phasellus non nulla eleifend, gravida metus ultricies, eleifend augue. Fusce pulvinar mi at purus aliquam, vel efficitur mi hendrerit.</p>
                </div>               
            </main>
        </div>

        <footer th:replace="layout/layout :: footer"></footer>
        <script src="https://kit.fontawesome.com/41bcea2ae3.js" crossorigin="anonymous"></script>
        <script th:src="@{/js/main.js}" type="text/javascript"></script>
    </body>
</html>